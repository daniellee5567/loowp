!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";function e(e,a,n){return a=p(a),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,t()?Reflect.construct(a,n||[],p(e).constructor):a.apply(e,n))}function t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(t=function(){return!!e})()}function a(){a=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,l=Object.defineProperty||function(e,t,a){e[t]=a.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,a){return e[t]=a}}function p(e,t,a,n){var r=t&&t.prototype instanceof b?t:b,o=Object.create(r.prototype),c=new j(n||[]);return l(o,"_invoke",{value:_(e,a,c)}),o}function d(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",m="suspendedYield",f="executing",v="completed",g={};function b(){}function w(){}function y(){}var E={};u(E,c,(function(){return this}));var k=Object.getPrototypeOf,R=k&&k(k(H([])));R&&R!==n&&r.call(R,c)&&(E=R);var C=y.prototype=b.prototype=Object.create(E);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function B(e,t){function a(n,l,o,c){var i=d(e[n],e,l);if("throw"!==i.type){var s=i.arg,u=s.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){a("next",e,o,c)}),(function(e){a("throw",e,o,c)})):t.resolve(u).then((function(e){s.value=e,o(s)}),(function(e){return a("throw",e,o,c)}))}c(i.arg)}var n;l(this,"_invoke",{value:function(e,r){function l(){return new t((function(t,n){a(e,r,t,n)}))}return n=n?n.then(l,l):l()}})}function _(t,a,n){var r=h;return function(l,o){if(r===f)throw Error("Generator is already running");if(r===v){if("throw"===l)throw o;return{value:e,done:!0}}for(n.method=l,n.arg=o;;){var c=n.delegate;if(c){var i=N(c,n);if(i){if(i===g)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var s=d(t,a,n);if("normal"===s.type){if(r=n.done?v:m,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=v,n.method="throw",n.arg=s.arg)}}}function N(t,a){var n=a.method,r=t.iterator[n];if(r===e)return a.delegate=null,"throw"===n&&t.iterator.return&&(a.method="return",a.arg=e,N(t,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var l=d(r,t.iterator,a.arg);if("throw"===l.type)return a.method="throw",a.arg=l.arg,a.delegate=null,g;var o=l.arg;return o?o.done?(a[t.resultName]=o.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,g):o:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,g)}function z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(z,this),this.reset(!0)}function H(t){if(t||""===t){var a=t[c];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,l=function a(){for(;++n<t.length;)if(r.call(t,n))return a.value=t[n],a.done=!1,a;return a.value=e,a.done=!0,a};return l.next=l}}throw new TypeError(typeof t+" is not iterable")}return w.prototype=y,l(C,"constructor",{value:y,configurable:!0}),l(y,"constructor",{value:w,configurable:!0}),w.displayName=u(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},x(B.prototype),u(B.prototype,i,(function(){return this})),t.AsyncIterator=B,t.async=function(e,a,n,r,l){void 0===l&&(l=Promise);var o=new B(p(e,a,n,r),l);return t.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(C),u(C,s,"Generator"),u(C,c,(function(){return this})),u(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=H,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var a in this)"t"===a.charAt(0)&&r.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function n(n,r){return c.type="throw",c.arg=t,a.next=n,r&&(a.method="next",a.arg=e),!!r}for(var l=this.tryEntries.length-1;l>=0;--l){var o=this.tryEntries[l],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(i&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var l=n;break}}l&&("break"===e||"continue"===e)&&l.tryLoc<=t&&t<=l.finallyLoc&&(l=null);var o=l?l.completion:{};return o.type=e,o.arg=t,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),M(a),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;M(a)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:H(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function n(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function l(e,t,a,n,r,l,o){try{var c=e[l](o),i=c.value}catch(e){return void a(e)}c.done?t(i):Promise.resolve(i).then(n,r)}function o(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function c(e){l(o,n,r,c,i,"next",e)}function i(e){l(o,n,r,c,i,"throw",e)}c(void 0)}))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n(r.key),r)}}function s(e,t,a){return t&&i(e.prototype,t),a&&i(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,l,o,c=[],i=!0,s=!1;try{if(l=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;i=!1}else for(;!(i=(n=l.call(a)).done)&&(c.push(n.value),c.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{if(!i&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw r}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var f=function e(t){var a=[];if(t)for(var n in t)a.push(t[n]),t[n].innerBlocks&&t[n].innerBlocks.length&&(a=a.concat(e(t[n].innerBlocks)));return a},v=function(e,t){if(e&&!wp.blocks.getBlockType(e)){var a=0;_wpcom_blocks&&_wpcom_blocks.exclude&&_wpcom_blocks.exclude.indexOf(e)>-1&&(a=1),(document.body.classList.contains("wp-customizer")||"undefined"!=typeof adminpage&&"widgets-php"===adminpage)&&_wpcom_blocks.exclude_widgets&&_wpcom_blocks.exclude_widgets.indexOf(e)>-1&&(a=1),a||wp.blocks.registerBlockType(e,t)}},g=function(e,t){var a=e?e.split(":"):[""],n="",r="",l="";switch(a&&2===a.length?(n=a[0],r=a[1]):(n="fa",r=a[0]),n){case"fa":l=React.createElement("i",{className:"fa fa-"+r+(t?" "+t:"")});break;case"mti":l=React.createElement("i",{className:"material-icons"+(t?" "+t:"")},r);break;case"ri":l=React.createElement("i",{className:"ri-"+r+(t?" "+t:"")});break;case"if":l=React.createElement("i",{className:"wpcom-icon"+(t?" "+t:"")},React.createElement("svg",{className:"icon-svg"},React.createElement("use",{xlinkHref:"#icon-"+r})))}return l},b=function(e){var t=wp.element.createElement,a=wp.components.SVG,n={d:"M960 497.792a438.016 438.016 0 0 0-8.832-75.776C931.584 329.088 888 249.152 818.048 185.024 707.328 83.776 576.832 46.016 429.44 71.872c-101.76 17.92-186.752 67.84-254.784 145.664-65.024 74.304-101.12 161.28-109.248 259.648a433.664 433.664 0 0 0 7.936 125.632 439.744 439.744 0 0 0 141.824 244.608C295.808 918.72 390.464 955.712 497.92 960h28.16a427.712 427.712 0 0 0 70.144-7.68c109.632-21.952 199.68-76.48 268.8-164.352 60.288-76.672 91.328-164.48 94.976-261.952v-28.16zM492.032 567.68c-17.92 17.6-35.968 35.2-54.016 52.672-13.248 12.928-29.056 20.8-48.768 19.584a90.624 90.624 0 0 1-40.32-13.632 309.632 309.632 0 0 1-50.752-38.4 22475.008 22475.008 0 0 1-144.064-130.56c-32.448-29.632-34.624-68.48-6.656-101.824 17.792-21.184 41.344-31.296 67.328-32.256 21.696.256 38.4 5.952 52.416 18.368 31.36 27.584 62.784 55.04 94.208 82.56 3.136 2.752 6.4 5.12 10.112 7.104 11.328 6.016 19.84 5.056 29.568-3.008 32.832-27.328 64.512-55.872 96.768-83.84 13.12-11.456 27.392-20.608 45.504-23.232 35.072-5.056 62.784 6.272 82.88 33.152 21.504 28.8 17.408 62.592-9.6 90.176-40.896 41.6-82.752 82.368-124.608 123.136zm393.344-76.352a330.88 330.88 0 0 1-38.912 49.152c-42.816 45.44-83.712 92.48-124.8 139.456-19.2 22.016-50.24 30.016-80.192 19.648-27.584-9.536-47.36-27.52-57.216-55.232a128.32 128.32 0 0 1 2.304-96.32 51.392 51.392 0 0 1 10.304-16.32v6.4c0 9.216 4.928 16.448 13.248 19.84 8.832 3.584 17.408 2.048 23.68-4.992 10.368-11.456 20.288-23.232 30.592-34.752 25.6-28.608 51.584-56.96 76.992-85.888 9.6-10.88 18.944-21.952 29.824-31.744 27.52-24.832 66.688-18.112 90.496-2.88 21.568 13.824 33.536 34.176 34.304 60.032a59.328 59.328 0 0 1-10.624 33.6z"};return void 0===e?n.fill="var(--wpcom-theme-color)":e&&(n.fill=e),t(a,{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 1024 1024"},t("path",n))},w=function(e,t,a){if(e&&t){var n=JSON.parse(localStorage.getItem("_wpcom_default_val"));(n=n||{})[e]=n[e]?n[e]:{},n[e][t]=a,localStorage.setItem("_wpcom_default_val",JSON.stringify(n))}},y=function(e,t,a){if(e&&t){var n=JSON.parse(localStorage.getItem("_wpcom_default_val"));if(n&&void 0!==n[e]&&void 0!==r(n[e][t]))return n[e][t]}if(void 0!==a)return a},E=wp.element.RawHTML,k=wp.components,R=k.TextareaControl,C=k.TextControl,x=k.ToggleControl,B=k.Placeholder,_={title:"\u8c37\u6b4c\u5730\u56fe",description:"\u53ef\u6dfb\u52a0\u8c37\u6b4c\u5730\u56fe\u5230\u6587\u7ae0\u5185\u5bb9",icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M12 20.9l4.95-4.95a7 7 0 1 0-9.9 0L12 20.9zm0 2.828l-6.364-6.364a9 9 0 1 1 12.728 0L12 23.728zM12 13a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 2a4 4 0 1 1 0-8 4 4 0 0 1 0 8z"})),category:"wpcom",attributes:{pos:{type:"string",default:"39.908911, 116.397475"},title:{type:"string",default:""},address:{type:"string",default:""},height:{type:"number",default:300},scroll:{type:"boolean",default:!1}},edit:function(e){var t=e.attributes,a=t.title,n=t.address,r=t.pos,l=t.height,o=t.scroll,c=e.setAttributes;return[React.createElement(B,{icon:"location-alt",label:"\u8c37\u6b4c\u5730\u56fe"},React.createElement("div",{className:"wpcom-blocks-panel"},React.createElement(C,{id:"pos",label:"\u5750\u6807",placeholder:"\u8bf7\u586b\u5199\u4f4d\u7f6e\u5750\u6807",help:"\u4f4d\u7f6e\u5750\u6807\u4fe1\u606f\uff0c\u62fe\u53d6\u5730\u5740\uff1ahttp://www.gpsspg.com/maps.htm",value:r,onChange:function(e){return c({pos:e})}}),React.createElement(C,{id:"title",label:"\u6807\u9898",placeholder:"\u8bf7\u586b\u5199\u5730\u56fe\u6807\u9898",help:"\u4f8b\u5982\u516c\u53f8\u540d\u79f0",value:a,onChange:function(e){return c({title:e})}}),React.createElement(R,{id:"address",label:"\u5730\u5740",placeholder:"\u8bf7\u586b\u5199\u5730\u56fe\u5730\u5740",rows:"2",help:"\u4f8b\u5982\u516c\u53f8\u5730\u5740",value:n,onChange:function(e){return c({address:e})}}),React.createElement(C,{id:"height",label:"\u9ad8\u5ea6",type:"number",placeholder:"\u8bf7\u586b\u5199\u5730\u56fe\u9ad8\u5ea6",help:"\u5730\u56fe\u663e\u793a\u9ad8\u5ea6\uff0c\u5355\u4f4dpx\uff0c\u65e0\u9700\u5e26\u5355\u4f4d",value:l,onChange:function(e){return c({height:e})}}),React.createElement(x,{id:"scroll",label:"\u6eda\u8f6e\u7f29\u653e",help:"\u5f00\u542f\u540e\u53ef\u4ee5\u4f7f\u7528\u9f20\u6807\u6eda\u8f6e\u653e\u5927\u7f29\u5c0f\u5730\u56fe",checked:o,onChange:function(e){return c({scroll:e})}})))]},save:function(e){var t=e.attributes,a=t.title,n=t.address,r='[map title="'+a+'" pos="'+t.pos+'" height="'+t.height+'" scroll="'+t.scroll+'" type="1"]'+n+"[/map]";return React.createElement(E,null,r)}},N=wp.element,z=N.RawHTML,M=N.Component,j=wp.data.select,H=wp.components,S=H.TextareaControl,I=H.TextControl,T=H.Placeholder,L=lodash.omit;function A(e){var t=e.attributes,a=t.code,n=t.width,r=t.height,l=t.box_width,o=a,c=parseFloat(n)?parseFloat(n):"",i=parseFloat(r)?parseFloat(r):"",s=l?l.match(/%$/i)?l:parseFloat(l)+"px":"100%",u=100*(i/c).toFixed(6);u=u?u+"%":"56.25%";var p=o.match(/<iframe[^>]+src=['"]?([^>'"]+)['"]?[^>]*>/i),d='<div class="video-code-inner" style="width:'+s+";--video-height:"+u+';">';return p&&p[1]?d+='<iframe class="video-code-iframe" width="'+c+'" height="'+i+'" src="'+p[1]+'" frameborder="0" allowfullscreen></iframe>':(n&&(o=o.replace(/\s+width=(['"])?([^'"\s]+)(['"])?/i,' width="'+c+'"')),r&&(o=o.replace(/\s+height=(['"])?([^'"\s]+)(['"])?/i,' height="'+i+'"')),o.match(/\s+width=/i)||(o=o.replace(/<([^\s]+)\s+/i,'<$1 width="'+c+'" ')),o.match(/\s+height=/i)||(o=o.replace(/<([^\s]+)\s+/i,'<$1 height="'+i+'" ')),d+=o),d+="</div>"}var O={title:"\u89c6\u9891\u4ee3\u7801",description:"\u53ef\u6dfb\u52a0\u7b2c\u4e09\u65b9\u89c6\u9891\u7f51\u7ad9\u901a\u7528\u5206\u4eab\u4ee3\u7801",icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M3 3.993C3 3.445 3.445 3 3.993 3h16.014c.548 0 .993.445.993.993v16.014a.994.994 0 0 1-.993.993H3.993A.994.994 0 0 1 3 20.007V3.993zM5 5v14h14V5H5zm5.622 3.415l4.879 3.252a.4.4 0 0 1 0 .666l-4.88 3.252a.4.4 0 0 1-.621-.332V8.747a.4.4 0 0 1 .622-.332z"})),category:"wpcom",attributes:{code:{type:"string",default:""},width:{type:"string"},height:{type:"string"},box_width:{type:"string"}},edit:function(t){function a(t){var n;return c(this,a),(n=e(this,a,arguments)).props=t,n.state={isEdit:""===t.attributes.code},n.subscribe=wp.data.subscribe((function(){var e=j("core/block-editor");e.hasSelectedBlock()&&e.getSelectedBlockClientId()===n.props.clientId?n.setState({isEdit:!0}):""!==n.props.attributes.code&&n.setState({isEdit:!1})})),n}return u(a,t),s(a,[{key:"componentWillUnmount",value:function(){this.subscribe&&this.subscribe()}},{key:"render",value:function(){var e=this.props,t=e.attributes,a=t.code,n=t.width,r=t.height,l=t.box_width,o=e.setAttributes,c=this.state.isEdit;return[React.createElement(T,{className:c?"":"wpcom-blocks-hide",icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"34",height:"34"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M3 3.993C3 3.445 3.445 3 3.993 3h16.014c.548 0 .993.445.993.993v16.014a.994.994 0 0 1-.993.993H3.993A.994.994 0 0 1 3 20.007V3.993zM5 5v14h14V5H5zm5.622 3.415l4.879 3.252a.4.4 0 0 1 0 .666l-4.88 3.252a.4.4 0 0 1-.621-.332V8.747a.4.4 0 0 1 .622-.332z"})),label:"\u89c6\u9891\u4ee3\u7801"},React.createElement("div",{className:"wpcom-blocks-panel"},React.createElement(S,{id:"address",label:"\u4ee3\u7801",placeholder:"\u8bf7\u586b\u5199\u89c6\u9891\u4ee3\u7801",rows:"3",help:"\u7b2c\u4e09\u65b9\u7f51\u7ad9\u89c6\u9891\u901a\u7528\u5206\u4eab\u4ee3\u7801\u3001iframe\u5d4c\u5165\u4ee3\u7801",value:a,onChange:function(e){return o({code:e})}}),React.createElement(I,{id:"width",label:"\u89c6\u9891\u6bd4\u4f8b#\u5bbd\u5ea6",placeholder:"\u8bf7\u586b\u5199\u89c6\u9891\u6bd4\u4f8b\u5bbd\u5ea6",help:"\u53ef\u9009\uff0c\u65e0\u9700\u5e26\u5355\u4f4d\uff0c\u5b9e\u9645\u663e\u793a\u4e2d\u4f1a\u6309\u8bbe\u7f6e\u7684\u5bbd\u9ad8\u7b49\u6bd4\u4f8b\u663e\u793a\uff0c\u4e0d\u586b\u5199\u9ed8\u8ba4\u630916:9",value:n,onChange:function(e){return o({width:e})}}),React.createElement(I,{id:"height",label:"\u89c6\u9891\u6bd4\u4f8b#\u9ad8\u5ea6",placeholder:"\u8bf7\u586b\u5199\u89c6\u9891\u6bd4\u4f8b\u9ad8\u5ea6",help:"\u53ef\u9009\uff0c\u65e0\u9700\u5e26\u5355\u4f4d\uff0c\u5b9e\u9645\u663e\u793a\u4e2d\u4f1a\u6309\u8bbe\u7f6e\u7684\u5bbd\u9ad8\u7b49\u6bd4\u4f8b\u663e\u793a\uff0c\u4e0d\u586b\u5199\u9ed8\u8ba4\u630916:9",value:r,onChange:function(e){return o({height:e})}}),React.createElement(I,{id:"box_width",label:"\u5bb9\u5668\u5bbd\u5ea6",placeholder:"\u53ef\u9009\uff0c\u65e0\u9700\u5e26\u5355\u4f4d\uff0c\u9ed8\u8ba4100%\u5bbd",help:"\u653e\u7f6e\u89c6\u9891\u7684\u5143\u7d20\u8282\u70b9\u5b9e\u9645\u5bbd\u5ea6\uff0c\u8d85\u51fa\u5185\u5bb9\u5bbd\u5ea6\u4f1a\u9ed8\u8ba4\u81ea\u9002\u5e94\u6210100%",value:l,onChange:function(e){return o({box_width:e})}}))),React.createElement("div",{className:"wp-block-wpcom-video-code"+(c?" wpcom-blocks-hide":"")},React.createElement(z,null,A(this.props)))]}}])}(M),save:function(e){return React.createElement(z,null,A(e))},deprecated:[{attributes:{code:{type:"string",default:""},width:{type:"string",default:""},height:{type:"string",default:""},center:{type:"boolean",default:!0}},migrate:function(e,t){return[L(e,"center"),t]},save:function(e){var t=e.attributes,a=t.code,n=t.width,r=t.height,l=t.center,o=a;n&&(o=o.replace(/\s+width=(['"])?([^'"\s]+)(['"])?/i,' width="'+n+'"')),r&&(o=o.replace(/\s+height=(['"])?([^'"\s]+)(['"])?/i,' height="'+r+'"')),o.match(/\s+height=/i)||(o=o.replace(/<([^\s]+)\s+/i,'<$1 height="'+r+'" ')),o.match(/\s+width=/i)||(o=o.replace(/<([^\s]+)\s+/i,'<$1 width="'+n+'" '));var c='<div class="video-code-inner'+(l?" center":"")+'">'+o+"</div>";return React.createElement(z,null,c)}}]},P=wp.element.Component,V=wp.components,Q=V.BaseControl,W=V.SelectControl,F=V.CustomSelectControl,U=function(t){function a(t){var n;c(this,a),(n=e(this,a,arguments)).props=t,n.icons="undefined"!=typeof _panel_options&&_panel_options.icons?_panel_options.icons:null;var r=n.icons?Object.keys(n.icons):[],l=[];if(r)for(var o=0;o<r.length;o++)n.props.hideIf&&"if"===r[o]||!n.icons[r[o]]||l.push({value:r[o],label:n.icons[r[o]].name});return n.state={types:l,type:"",items:[]},n}return u(a,t),s(a,[{key:"componentWillMount",value:function(){var e="",t=this.props.value,a=t?t.split(":"):[""];a&&a[1]&&this.icons&&this.icons[a[0]]?e=a[0]:a&&void 0===a[1]&&(a[1]=t),""===e&&this.state.types.length&&(e=this.state.types[0].value),this.setState({type:e,icon:a[1]?a[1]:""}),this.setupItems(e)}},{key:"changeType",value:function(e){this.setState({type:e}),this.setupItems(e)}},{key:"setupItems",value:function(e){var t=this.icons&&this.icons[e]?this.icons[e].icons:[],a=[];t&&t.length&&t.map((function(t){a.push({value:t,name:g(e+":"+t)})})),this.setState({items:a})}},{key:"render",value:function(){var e=this,t=this.props,a=t.id,n=t.label,r=t.help,l=t.onChange,o=this.state,c=o.type,i=o.items,s=o.types,u=o.icon,p=!(!s||!s.length);return React.createElement(Q,{className:"icon-selector",id:a||"",label:n||"",help:r||""},p&&React.createElement("div",null,React.createElement(W,{className:"icon-selector-type",value:c,options:[{value:"",label:"--\u8bf7\u9009\u62e9--"}].concat(s),onChange:function(t){e.setState({type:t,icon:""}),e.setupItems(t),l("")}}),c&&React.createElement(F,{className:"icon-selector-icons",options:i,value:u?i.find((function(e){return e.value===u})):"",onChange:function(t){if(t.selectedItem){var a=t.selectedItem.value;e.setState({icon:a}),l(a?c+":"+a:"")}}})),!p&&React.createElement("p",null,"\u6682\u65e0\u53ef\u7528\u56fe\u6807\u5e93\uff0c\u8bf7\u5148\u5728",React.createElement("code",{style:{color:"#43a7ff"}},"\u4e3b\u9898\u8bbe\u7f6e>\u98ce\u683c\u6837\u5f0f>\u56fe\u6807\u8bbe\u7f6e"),"\u4e0b\u8bbe\u7f6e\u9700\u8981\u4f7f\u7528\u7684\u56fe\u6807"))}}])}(P),G=wp.blockEditor?wp.blockEditor:wp.editor,q=G.InspectorControls,D=G.RichText,$=wp.components,J=$.PanelBody,Y=$.SelectControl,X=$.RadioControl,K={title:"\u63d0\u793a\u4fe1\u606f",description:"\u6dfb\u52a0\u6b64\u533a\u5757\u53ef\u663e\u793a\u4e00\u6bb5\u63d0\u793a\u4fe1\u606f",icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-1-5h2v2h-2v-2zm0-8h2v6h-2V7z"})),category:"wpcom",attributes:{content:{type:"html",source:"children",selector:"p",default:[]},type:{type:"string",default:"default"},icon:{type:"string",default:""},icon_size:{type:"string",default:"0"}},edit:function(e){var t=e.attributes,a=e.setAttributes,n=t.content,r=t.type,l=t.icon,o=t.icon_size;return[React.createElement(q,{key:"inspector"},React.createElement(J,{title:"\u63d0\u793a\u8bbe\u7f6e"},React.createElement(Y,{id:"type",label:"\u98ce\u683c",placeholder:"\u8bf7\u9009\u62e9\u63d0\u793a\u98ce\u683c",help:"\u63d0\u793a\u9762\u677f\u663e\u793a\u98ce\u683c",value:r,onChange:function(e){return a({type:e})},options:[{label:"\u9ed8\u8ba4",value:"default"},{label:"\u6210\u529f",value:"success"},{label:"\u63d0\u793a",value:"info"},{label:"\u8b66\u544a",value:"warning"},{label:"\u5371\u9669",value:"danger"}]}),React.createElement(U,{id:"icon",label:"\u56fe\u6807",value:l,onChange:function(e){return a({icon:e})}}),React.createElement(X,{id:"icon_size",label:"\u56fe\u6807\u5c3a\u5bf8",placeholder:"\u8bf7\u9009\u62e9\u56fe\u6807\u5c3a\u5bf8",help:"\u63d0\u793a\u9762\u677f\u56fe\u6807\u5c3a\u5bf8",selected:o,onChange:function(e){return a({icon_size:e})},options:[{label:"\u5c0f\u56fe\u6807",value:"0"},{label:"\u5927\u56fe\u6807",value:"1"}]}))),React.createElement("div",{className:"wpcom-blocks-alert alert alert-"+r+("1"==o?" alert-fa-lg":""),role:"alert"},l&&g(l,"1"==o?" fa-lg icon-el":"icon-el"),React.createElement(D,{key:"editable",tagName:"div",value:n,placeholder:"\u8bf7\u586b\u5199\u63d0\u793a\u4fe1\u606f\u5185\u5bb9",onChange:function(e){return a({content:e})}}))]},save:function(e){var t=e.attributes,a=t.content,n=t.type,r=t.icon,l=t.icon_size;return React.createElement("div",null,'[alert size="',l,'" icon="',r,'" type="',n,'"]',React.createElement("p",null,a),"[/alert]")}},Z=wp.blockEditor?wp.blockEditor:wp.editor,ee=Z.InspectorControls,te=Z.InnerBlocks,ae=wp.components,ne=ae.PanelBody,re=ae.TextControl,le=ae.SelectControl,oe={title:"\u9762\u677f",description:"\u63d0\u793a\u9762\u677f\u4fe1\u606f\u533a\u5757",icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M3 3h18a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm17 8H4v8h16v-8zm0-2V5H4v4h16zM9 6h2v2H9V6zM5 6h2v2H5V6z"})),category:"wpcom",attributes:{type:{type:"string",default:"default"},title:{type:"string",default:""},icon:{type:"string",default:""}},supports:{html:!1},edit:function(e){var t=e.attributes,a=e.setAttributes,n=t.type,r=t.icon,l=t.title;return[React.createElement(ee,{key:"inspector"},React.createElement(ne,{title:"\u9762\u677f\u8bbe\u7f6e"},React.createElement(le,{id:"type",label:"\u98ce\u683c",placeholder:"\u8bf7\u9009\u62e9\u9762\u677f\u98ce\u683c",help:"\u9762\u677f\u663e\u793a\u98ce\u683c",value:n,onChange:function(e){return a({type:e})},options:[{label:"\u9ed8\u8ba4",value:"default"},{label:"\u6210\u529f",value:"success"},{label:"\u63d0\u793a",value:"info"},{label:"\u8b66\u544a",value:"warning"},{label:"\u5371\u9669",value:"danger"}]}),React.createElement(re,{id:"title",label:"\u6807\u9898",placeholder:"\u8bf7\u586b\u5199\u9762\u677f\u6807\u9898",help:"",value:l,onChange:function(e){return a({title:e})}}),React.createElement(U,{id:"icon",label:"\u56fe\u6807",value:r,onChange:function(e){return a({icon:e})}}))),React.createElement("div",{className:"wpcom-blocks-panel panel panel-"+n},React.createElement("div",{className:"panel-heading"},React.createElement("h3",{className:"panel-title"},r&&g(r,"icon-el"),React.createElement("span",{contenteditable:"true",onBlur:function(e){var t=jQuery(e.target);t.length&&a({title:t.text()})},placeholder:"\u8bf7\u586b\u5199\u9762\u677f\u6807\u9898"},l))),React.createElement("div",{className:"panel-body"}," ",React.createElement(te,null)," "))]},save:function(e){var t=e.attributes,a=t.type,n=t.icon,r=t.title;return React.createElement("div",null,' [panel type="',a,'" title="',r,'" icon="',n,'"] ',React.createElement(te.Content,null)," [/panel] ")}},ce=wp.element.Component,ie=wp.data.select,se=wp.blockEditor?wp.blockEditor:wp.editor,ue=se.InspectorControls,pe=se.InnerBlocks,de=wp.components,he=de.PanelBody,me=de.TextControl,fe=de.TextareaControl,ve=de.SelectControl,ge=wp.apiFetch,be=lodash.omit,we=null,ye={title:"\u9690\u85cf\u5185\u5bb9",description:"\u9690\u85cf\u5185\u5bb9\uff0c\u53ef\u8bbe\u7f6e\u767b\u5f55/\u8bc4\u8bba/\u6307\u5b9a\u7528\u6237\u7ec4\u53ef\u89c1",icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M12 1l8.217 1.826a1 1 0 0 1 .783.976v9.987a6 6 0 0 1-2.672 4.992L12 23l-6.328-4.219A6 6 0 0 1 3 13.79V3.802a1 1 0 0 1 .783-.976L12 1zm0 2.049L5 4.604v9.185a4 4 0 0 0 1.781 3.328L12 20.597l5.219-3.48A4 4 0 0 0 19 13.79V4.604L12 3.05zM12 7a2 2 0 0 1 1.001 3.732L13 15h-2v-4.268A2 2 0 0 1 12 7z"})),category:"wpcom",attributes:{id:{type:"any",default:""},type:{type:"string"},password:{type:"string",default:""},user_group:{type:"any"},tips:{type:"string"}},supports:{html:!1},edit:function(t){function a(){return c(this,a),e(this,a,arguments)}return u(a,t),s(a,[{key:"componentWillMount",value:function(){var e=this.props,t=e.attributes,a=e.setAttributes,n=e.clientId,r=t.id,l=!0;r?l=f(ie("core/block-editor").getBlocks()).filter((function(e){var t=e.attributes.id;return t&&r===t})).length<=1:a({type:y("hidden-content","type","")});r&&l||a({id:n})}},{key:"componentDidMount",value:function(){"2"===this.props.attributes.type&&this.setUserGroups()}},{key:"changeType",value:function(e){this.props.setAttributes({type:e}),w("hidden-content","type",e),"2"===e&&this.setUserGroups()}},{key:"setUserGroups",value:function(){var e=this;we||ge({path:"/wp/v2/user-groups?per_page=100"}).then((function(t){if(t&&t.length){var a=[];for(var n in t)a[n]={label:t[n].name,value:t[n].id};we=a,e.forceUpdate()}}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.attributes,n=a.id,r=a.type,l=a.user_group,o=a.password,c=a.tips,i=t.setAttributes;n||i({id:this.props.clientId});var s=wp.blocks.getBlockTypes().map((function(e){if(!e.parent)return e.name})).filter((function(e){return e&&(!(t=e)||!["wpcom/hidden-content","wpcom/rewarded-content","wpcom/premium-content","wpcom/premium-download"].includes(t));var t}));return[React.createElement(ue,{key:"inspector"},React.createElement(he,{title:"\u533a\u5757\u8bbe\u7f6e"},React.createElement(ve,{id:"type",label:"\u5185\u5bb9\u53ef\u89c1\u65b9\u5f0f",value:r,onChange:function(t){return e.changeType(t)},options:[{label:"--\u8bf7\u9009\u62e9--",value:""},{label:"\u56de\u590d\u53ef\u89c1",value:"0"},{label:"\u767b\u5f55\u53ef\u89c1",value:"1"},{label:"\u6307\u5b9a\u7528\u6237\u7ec4\u53ef\u89c1",value:"2"},{label:"\u8f93\u5165\u53e3\u4ee4\u53ef\u89c1",value:"3"}]}),"2"===r&&React.createElement(ve,{id:"user_group",label:"\u53ef\u89c1\u7684\u7528\u6237\u5206\u7ec4",help:"\u6309\u4f4fCtrl\u952e\uff08Mac\u7cfb\u7edfCommand\u952e\uff09\u53ef\u652f\u6301\u591a\u9009",multiple:!0,value:l,onChange:function(e){return i({user_group:e})},options:we}),"3"===r&&React.createElement(me,{id:"password",label:"\u53e3\u4ee4/\u5bc6\u7801",placeholder:"\u8bf7\u8bbe\u7f6e\u53e3\u4ee4/\u5bc6\u7801",value:o,onChange:function(e){return i({password:e})}}),React.createElement(fe,{id:"tips",label:"\u63d0\u793a\u6587\u5b57",placeholder:"\u53ef\u9009\uff0c\u4e0d\u586b\u5219\u4e3a\u9ed8\u8ba4\u63d0\u793a",rows:"2",value:c,onChange:function(e){return i({tips:e})}}))),React.createElement("div",{className:"wpcom-hidden-content"},React.createElement(pe,{allowedBlocks:s}))]}}])}(ce),save:function(e){return React.createElement("div",null,React.createElement("script",{type:"text/html"},React.createElement(pe.Content,null)))},deprecated:[{attributes:{id:{type:"any",default:""},type:{type:"string",default:""},user_group:{type:"any"},tips:{type:"string",default:""}},save:function(e){var t=e.attributes,a=t.id,n=t.type,r=t.user_group,l=t.tips,o="";return o=(o=(o=l?l.replace(/</g,"&lt"):"").replace(/>/g,"&gt")).replace(/"/g,"&quot"),React.createElement("div",null,"[wpcom-content",a&&' id="'+a+'"',' type="',n,'"',r&&r.length&&' user_group="'+r.join(",")+'"',o&&' tips="'+o+'"',"]",React.createElement("script",{type:"text/html"},React.createElement(pe.Content,null)),"[/wpcom-content]")}},{attributes:{id:{type:"any",default:""},type:{type:"string",default:""},user_group:{type:"any"},content:{type:"array"},tips:{type:"string",default:""}},migrate:function(e){var t=wp.blocks.createBlocksFromInnerBlocksTemplate(e.content);return[be(e,"content"),t]},save:function(e){var t=e.attributes,a=t.id,n=t.type,r=t.user_group,l=t.tips;return React.createElement("div",null,"[wpcom-content",a?' id="'+a+'"':"",' type="',n,'"',r&&r.length?' user_group="'+r.join(",")+'"':"","]",l||"","[/wpcom-content]")}}]},Ee=wp.element.Component,ke=wp.blocks.createBlock,Re=wp.data.select,Ce=wp.blockEditor?wp.blockEditor:wp.editor,xe=Ce.InspectorControls,Be=Ce.InnerBlocks,_e=wp.components,Ne=_e.PanelBody,ze=_e.TextControl,Me=_e.Button,je={title:"\u9009\u9879\u5361",description:"\u5355\u4e2a\u9009\u9879\u5361\uff0c\u7528\u4e8e\u624b\u98ce\u7434\u5207\u6362\u533a\u5757",icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M21 3a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h18zM4 10v9h16v-9H4zm0-2h16V5H4v3z"})),category:"common",parent:["wpcom/accordion"],attributes:{title:{type:"string",default:""},id:{type:"any",default:""},index:{type:"number"},first:{type:"boolean",default:!1}},supports:{html:!1},edit:function(t){function a(){return c(this,a),e(this,a,arguments)}return u(a,t),s(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.clientId,a=e.setAttributes,n=jQuery("#block-"+t).closest(".wp-block-wpcom-accordion").closest(".editor-block-list__block-edit,.wp-block").data("block"),r=Re("core/block-editor").getBlocksByClientId(n)[0],l=r.innerBlocks;if(l)for(var o=0;o<l.length;o++)if(t===l[o].clientId){var c=0;l[o].attributes.id||(c=1),a({id:r.attributes.id,index:o,first:0===o}),jQuery("#accordion-"+r.attributes.id).off("click.acc").on("click.acc",".panel-title a",(function(e){e.preventDefault(),jQuery(jQuery(this).attr("href")).toggleClass("in")})),c&&jQuery("#block-"+l[o].clientId).find(".panel-title a").trigger("click")}}},{key:"render",value:function(){var e=this.props,t=e.attributes,a=e.setAttributes,n=t.title,r=t.id,l=t.index;return[React.createElement(xe,{key:"inspector"},React.createElement(Ne,{title:"\u9009\u9879\u8bbe\u7f6e"},React.createElement(ze,{id:"title",label:"\u6807\u9898",placeholder:"\u8bf7\u586b\u5199\u6807\u9898",help:"",value:n,onChange:function(e){return a({title:e})}}))),React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-heading",id:"heading-"+r+"-"+l},React.createElement("h4",{className:"panel-title"},React.createElement("a",{href:"#accordion-"+r+"-"+l,contenteditable:"true",onBlur:function(e){var t=jQuery(e.target);t.length&&a({title:t.text()})},placeholder:"\u8bf7\u586b\u5199\u6807\u9898"},n))),React.createElement("div",{id:"accordion-"+r+"-"+l,className:"panel-collapse collapse"},React.createElement("div",{className:"panel-body"},React.createElement(Be,null))))]}}])}(Ee),save:function(e){var t=e.attributes,a=t.title,n=t.id,r=t.index,l=t.first;return React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-heading",id:"heading-"+n+"-"+r},React.createElement("h4",{className:"panel-title"},React.createElement("a",{role:"button","data-toggle":"collapse","data-parent":"#accordion-"+n,href:"#accordion-"+n+"-"+r},a))),React.createElement("div",{id:"accordion-"+n+"-"+r,className:"panel-collapse collapse"+(l?" in":"")},React.createElement("div",{className:"panel-body"},React.createElement(Be.Content,null))))}},He={title:"\u624b\u98ce\u7434",description:"\u624b\u98ce\u7434\u5207\u6362\u6548\u679c",icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M21 3a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h18zM4 10v9h16v-9H4zm0-2h16V5H4v3z"})),category:"wpcom",attributes:{id:{type:"any",default:""}},supports:{html:!1},edit:function(t){function a(){return c(this,a),e(this,a,arguments)}return u(a,t),s(a,[{key:"componentWillMount",value:function(){var e=this.props,t=e.attributes,a=e.setAttributes,n=e.clientId,r=t.id,l=!0;r&&(l=f(Re("core/block-editor").getBlocks()).filter((function(e){var t=e.attributes.id;return"wpcom/acco"!==e.name&&t&&r===t})).length<=1);r&&l||a({id:n})}},{key:"render",value:function(){var e=this,t=this.props.attributes;return[React.createElement("div",{className:"wp-block-wpcom-accordion panel-group",id:"accordion-"+t.id},React.createElement(Be,{allowedBlocks:["wpcom/acco"],renderAppender:function(){return React.createElement(Me,{icon:React.createElement("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true",focusable:"false"},React.createElement("path",{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),className:"add-accordion",onClick:function(){wp.data.dispatch("core/block-editor").insertBlocks(ke("wpcom/acco"),9999,e.props.clientId)}},"\u6dfb\u52a0\u9009\u9879\u5361")}}))]}}])}(Ee),save:function(e){var t=e.attributes.id;return React.createElement("div",{className:"panel-group",id:"accordion-"+t}," ",React.createElement(Be.Content,null)," ")}},Se=wp.element.Component,Ie=wp.data.select,Te=wp.blockEditor?wp.blockEditor:wp.editor,Le=Te.InspectorControls,Ae=Te.InnerBlocks,Oe=wp.components,Pe=Oe.PanelBody,Ve=Oe.SelectControl,Qe=Oe.Icon,We=Oe.Button,Fe={title:"\u9009\u9879\u5361\u5207\u6362",description:"\u53ef\u5207\u6362\u7684\u9009\u9879\u5361",icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M12.414 5H21a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h7.414l2 2zM4 7v12h16V7H4z"})),category:"wpcom",attributes:{type:{type:"string",default:"0"},title:{type:"array"},id:{type:"any",default:""}},supports:{html:!1},edit:function(t){function a(){return c(this,a),e(this,a,arguments)}return u(a,t),s(a,[{key:"componentWillMount",value:function(){var e=this.props,t=e.attributes,a=e.setAttributes,n=e.clientId;a({title:t.title&&"string"==typeof t.title?t.title.split("||"):t.title});var r=t.id,l=!0;r&&(l=f(Ie("core/block-editor").getBlocks()).filter((function(e){var t=e.attributes.id;return"wpcom/tab"!==e.name&&t&&r===t})).length<=1);r&&l||a({id:n})}},{key:"titleUpdate",value:function(e){var t=this.props,a=t.attributes,n=t.setAttributes,r=a.title,l=jQuery(e.target);r[l.parent().index()]=l.text(),n({title:r})}},{key:"tabRemove",value:function(e){e.stopPropagation();var t=this.props,a=t.attributes,n=t.setAttributes,r=jQuery(e.target).closest("li"),l=r.find("> a").attr("href"),o=jQuery(l);if(o.length){var c=o.closest(".wp-block").data("block");wp.data.dispatch("core/block-editor").removeBlock(c).then((function(){var e=Object.assign([],a.title);e.splice(r.index(),1),n({title:e})}))}}},{key:"insertBlock",value:function(){var e=this.props.clientId,t=wp.blocks.createBlock("wpcom/tab");wp.data.dispatch("core/block-editor").insertBlock(t,void 0,e)}},{key:"tabClick",value:function(e){e.preventDefault();var t=jQuery(e.target).closest("li");t.parent().find("li").removeClass("active"),t.addClass("active");var a=t.find("> a").attr("href");t.closest(".wpcom-blocks-tabs").find(".tab-content .tab-pane").closest(".wp-block").attr("tab-show","false");var n=jQuery(a).closest(".wp-block");if(n.attr("tab-show","true"),0===Ie("core/block-editor").getBlocksByClientId(n.data("block"))[0].innerBlocks.length){var r=wp.blocks.createBlock("core/paragraph");wp.data.dispatch("core/block-editor").insertBlock(r,void 0,n.data("block"))}}},{key:"appender",value:function(){return!1}},{key:"render",value:function(){var e=this.props,t=e.attributes,a=e.setAttributes,n=t.type,r=t.id,l=t.title,o=this,c=l?l.map((function(e,t){return React.createElement("li",{className:0===t?"active":"",onClick:o.tabClick.bind(o)},React.createElement("a",{href:"#tabs-"+r+"-"+t,contenteditable:"true",onBlur:o.titleUpdate.bind(o),placeholder:"\u8bf7\u586b\u5199\u6807\u9898"},e),React.createElement("i",{className:"close",onClick:o.tabRemove.bind(o)},React.createElement(Qe,{icon:"no-alt",size:16})))})):"";return[React.createElement(Le,{key:"inspector"},React.createElement(Pe,{title:"\u9009\u9879\u5361\u8bbe\u7f6e"},React.createElement(Ve,{id:"type",label:"\u5e03\u5c40",placeholder:"\u8bf7\u9009\u62e9\u9009\u9879\u5361\u5e03\u5c40",help:"",value:n,onChange:function(e){return a({type:e})},options:[{label:"\u4e0a\u4e0b\u5e03\u5c40",value:"0"},{label:"\u5de6\u53f3\u5e03\u5c40",value:"1"}]}))),React.createElement("div",{className:"wpcom-blocks-tabs tabs"+("1"===n?" tabs-horizontal":"")},React.createElement("ul",{className:"nav nav-tabs"},c,React.createElement("li",{className:"inserter"},"0"===n&&React.createElement(We,{icon:"insert",label:"\u6dfb\u52a0\u9009\u9879\u5361",className:"tab-inserter",onClick:this.insertBlock.bind(this)}),"1"===n&&React.createElement(Ae.ButtonBlockAppender,{className:"tab-inserter"}))),React.createElement("div",{className:"tab-wrap"},React.createElement("div",{className:"tab-content"},React.createElement(Ae,{allowedBlocks:["wpcom/tab"],renderAppender:this.appender}))))]}}])}(Se),save:function(e){var t=e.attributes,a=t.type,n=t.id,l=e.attributes.title&&"object"===r(e.attributes.title)?e.attributes.title.join("||"):e.attributes.title;return React.createElement("div",null,'[tabs type="',a,'" title="',l,'" id="',n,'"] ',React.createElement(Ae.Content,null)," [/tabs]")}},Ue={title:"\u9009\u9879\u5361",description:"\u5355\u4e2a\u9009\u9879\u5361\uff0c\u7528\u4e8e\u9009\u9879\u5361\u5207\u6362\u533a\u5757",icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M12.414 5H21a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h7.414l2 2zM4 7v12h16V7H4z"})),category:"common",parent:["wpcom/tabs"],attributes:{id:{type:"any",default:""},index:{type:"number"},first:{type:"boolean",default:!1}},supports:{html:!1},edit:function(t){function n(){return c(this,n),e(this,n,arguments)}return u(n,t),s(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.clientId,a=e.attributes,n=e.setAttributes,r=jQuery("#block-"+t),l=r.closest(".wp-block-wpcom-tabs,.wpcom-blocks-tabs"),o=l.closest(".editor-block-list__block-edit,.wp-block").data("block"),c=Ie("core/block-editor").getBlocksByClientId(o)[0],i=c?c.innerBlocks:null;if(i)for(var s=0;s<i.length;s++)t===i[s].clientId&&function(e){var t=0;if(a.id||(t=1),n({id:c.attributes.id,index:e,first:0===e}),0===e&&l.find(".nav-tabs>li").eq(e).trigger("click"),t){var i=l.find(".nav-tabs>li").eq(e);if(!i||i.hasClass("inserter")){var s=Object.assign([],c.attributes.title);s.push(""),wp.data.dispatch("core/block-editor").updateBlockAttributes(o,{title:s}).then((function(){setTimeout((function(){l.find(".nav-tabs>li").eq(e).trigger("click"),setTimeout((function(){r.find("textarea").focus()}),200)}),50)}))}}}(s)}},{key:"componentWillUnmount",value:function(){var e=this.props.clientId,t=jQuery("#block-"+e).closest(".wp-block-wpcom-tabs,.wpcom-blocks-tabs"),n=t.closest(".editor-block-list__block-edit,.wp-block").data("block"),r=Ie("core/block-editor").getBlocksByClientId(n)[0];if(r&&r.innerBlocks){var l=r.innerBlocks;setTimeout(o(a().mark((function e(){var n,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<l.length)){e.next=7;break}return e.next=4,wp.data.dispatch("core/block-editor").updateBlockAttributes(l[n].clientId,{index:n});case 4:n++,e.next=1;break;case 7:((r=t.find(".nav-tabs>.active").index())<0||r===l.length)&&(o=r<0?0:r-1,t.find(".nav-tabs>li").eq(o).trigger("click"));case 9:case"end":return e.stop()}}),e)}))),20)}}},{key:"render",value:function(){var e=this.props.attributes,t=e.id,a=e.index;return React.createElement("div",{className:"tab-pane",id:"tabs-"+t+"-"+a},React.createElement(Ae,null))}}])}(Se),save:function(e){var t=e.attributes,a=t.id,n=t.index,r=t.first;return React.createElement("div",{className:"tab-pane"+(r?" active":""),id:"tabs-"+a+"-"+n},React.createElement(Ae.Content,null))}},Ge=wp.element.Component,qe=wp.data.select,De=(wp.blockEditor?wp.blockEditor:wp.editor).InspectorControls,$e=wp.components,Je=$e.PanelBody,Ye=$e.SelectControl,Xe=$e.TextareaControl,Ke={title:"\u4ee3\u7801\u9ad8\u4eae",description:"\u53ef\u63d2\u5165\u4e00\u6bb5\u4ee3\u7801\uff0c\u5e76\u5bf9\u4ee3\u7801\u7f8e\u5316\u7740\u8272\u9ad8\u4eae\u663e\u793a",icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M24 12l-5.657 5.657-1.414-1.414L21.172 12l-4.243-4.243 1.414-1.414L24 12zM2.828 12l4.243 4.243-1.414 1.414L0 12l5.657-5.657L7.07 7.757 2.828 12zm6.96 9H7.66l6.552-18h2.128L9.788 21z"})),category:"wpcom",attributes:{content:{type:"html",source:"children",selector:"code",default:""},lang:{type:"string",default:""}},example:{attributes:{content:'// \u9884\u89c8\u6548\u679c\r\nconsole.log("Hello, word!");',lang:"js"}},supports:{html:!1},edit:function(t){function a(t){var n;c(this,a),(n=e(this,a,arguments)).props=t,n.state={isEdit:""===t.attributes.content};var r=n;if("undefined"==typeof hljs){var l=_panel_options.framework_url;jQuery.ajax({url:l+"/assets/js/highlight-11.9.0.min.js",dataType:"script",cache:!0,success:function(){var e=document.createElement("link");e.href=l+"/assets/css/highlight-11.9.0.min.css",e.rel="stylesheet",e.type="text/css",document.body.appendChild(e),hljs.configure({ignoreUnescapedHTML:!0}),r.props.attributes.content&&setTimeout((function(){var e=jQuery("#block-"+r.props.clientId);e.length&&hljs.highlightElement(e.find(".wp-block-wpcom-hljs pre")[0])}),10)}})}else r.props.attributes.content&&setTimeout((function(){var e=jQuery("#block-"+r.props.clientId);e.length&&hljs.highlightElement(e.find(".wp-block-wpcom-hljs pre")[0])}),10);return n.subscribe=wp.data.subscribe((function(){var e=qe("core/block-editor");e.hasSelectedBlock()&&e.getSelectedBlockClientId()===n.props.clientId?n.setState({isEdit:!0}):""!==n.props.attributes.content&&(n.setState({isEdit:!1}),setTimeout((function(){var e=jQuery("#block-"+r.props.clientId);"undefined"!=typeof hljs&&e.find(".wp-block-wpcom-hljs pre").length&&hljs.highlightElement(e.find(".wp-block-wpcom-hljs pre")[0])}),0))})),n}return u(a,t),s(a,[{key:"componentWillUnmount",value:function(){this.subscribe&&this.subscribe()}},{key:"render",value:function(){var e=this.props,t=e.attributes,a=e.setAttributes,n=t.content,r=t.lang,l=this.state.isEdit;return[React.createElement(De,{key:"inspector"},React.createElement(Je,{title:"\u533a\u5757\u8bbe\u7f6e"},React.createElement(Ye,{id:"lang",label:"\u4ee3\u7801\u8bed\u8a00",help:"\u8bbe\u7f6e\u6240\u9700\u8981\u6dfb\u52a0\u7684\u4ee3\u7801\u8bed\u8a00",value:r,onChange:function(e){return a({lang:e})},options:[{label:"\u81ea\u52a8",value:""},{label:"HTML",value:"html"},{label:"CSS",value:"css"},{label:"JavaScript",value:"js"},{label:"PHP",value:"php"},{label:"Python",value:"python"},{label:"Java",value:"java"},{label:"C#",value:"csharp"},{label:"C",value:"c"},{label:"C++",value:"cpp"},{label:"Go",value:"go"},{label:".NET",value:"vb"},{label:"Bash",value:"bash"},{label:"SQL",value:"sql"},{label:"SCSS",value:"scss"},{label:"XML",value:"xml"},{label:"Swift",value:"swift"},{label:"Ruby",value:"ruby"},{label:"Perl",value:"perl"},{label:"Lua",value:"lua"},{label:"Markdown",value:"markdown"}]}))),React.createElement("div",{className:l?"wpcom-blocks-code":"wpcom-blocks-hide"},React.createElement(Xe,{value:n,rows:10,onChange:function(e){return a({content:e})}})),React.createElement("div",{className:"wp-block-wpcom-hljs"+(l?" wpcom-blocks-hide":"")},!l&&React.createElement("pre",{className:r?"language-"+r:""},React.createElement("code",null,n)))]}}])}(Ge),save:function(e){var t=e.attributes,a=t.content,n=t.lang;return React.createElement("div",{className:"wp-block-wpcom-hljs"},React.createElement("pre",{className:n?"language-"+n:""},React.createElement("code",null,a)))}},Ze=wp.element.Component,et=wp.blocks.createBlock,tt=wp.blockEditor?wp.blockEditor:wp.editor,at=tt.InspectorControls,nt=tt.__experimentalImageSizeControl,rt=tt.MediaUpload,lt=tt.MediaUploadCheck,ot=tt.InnerBlocks,ct=wp.components,it=ct.PanelBody,st=ct.ToggleControl,ut=ct.TextControl,pt=ct.Button,dt={title:"\u591a\u5f20\u56fe\u7247",description:"\u89e3\u51b3\u9ed8\u8ba4\u56fe\u7247\u533a\u5757\u53ea\u80fd\u5355\u4e2a\u6dfb\u52a0\u7684\u95ee\u9898\uff0c\u53ef\u4e00\u6b21\u6027\u6dfb\u52a0\u591a\u5f20\u56fe\u7247",icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M21 15v3h3v2h-3v3h-2v-3h-3v-2h3v-3h2zm.008-12c.548 0 .992.445.992.993V13h-2V5H4v13.999L14 9l3 3v2.829l-3-3L6.827 19H14v2H2.992A.993.993 0 0 1 2 20.007V3.993A1 1 0 0 1 2.992 3h18.016zM8 7a2 2 0 1 1 0 4 2 2 0 0 1 0-4z"})),category:"wpcom",attributes:{center:{type:"boolean"},p:{type:"boolean"}},edit:function(t){function a(t){var n;return c(this,a),(n=e(this,a,arguments)).props=t,n}return u(a,t),s(a,[{key:"componentWillMount",value:function(){var e=this.props,t=e.attributes,a=t.center,n=t.p,r=e.setAttributes;void 0===a&&r({center:y("images","center",!0)}),void 0===n&&r({p:y("images","p",!1)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.attributes,n=a.center,r=a.p,l=t.setAttributes,o=wp.data.select("core/block-editor").getBlocksByClientId(this.props.clientId)[0],c=o.innerBlocks&&o.innerBlocks.length;return[React.createElement(at,{key:"inspector"},React.createElement(it,{title:"\u533a\u5757\u8bbe\u7f6e"},React.createElement(st,{label:"\u5c45\u4e2d\u663e\u793a",help:"\u56fe\u7247\u662f\u5426\u5c45\u4e2d\u663e\u793a",checked:n,onChange:function(e){l({center:e}),w("images","center",e)}}),React.createElement(st,{label:"\u6bb5\u843d\u95f4\u8ddd",help:"\u56fe\u7247\u4e0a\u4e0b\u4e4b\u95f4\u662f\u5426\u6309\u6bb5\u843d\u663e\u793a\u95f4\u8ddd\uff0c\u540e\u53f0\u7531\u4e8e\u7f16\u8f91\u5668\u533a\u5757\u4e0a\u4e0b\u95f4\u8ddd\u539f\u56e0\u8bf7\u4ee5\u524d\u7aef\u5b9e\u9645\u663e\u793a\u6548\u679c\u4e3a\u51c6",checked:r,onChange:function(e){l({p:e}),w("images","p",e)}}))),React.createElement("div",{className:"wp-block-wpcom-images"+(n?" aligncenter":"")+(r?"":" inline-image")+(c?"":" empty-block")},React.createElement(ot,{allowedBlocks:["wpcom/image"],renderAppender:function(){return React.createElement(lt,null,React.createElement(rt,{allowedTypes:["image"],multiple:!0,onSelect:function(t){t&&t.length&&t.map((function(t){if(t&&t.id){var a={id:t.id,width:t.width,height:t.height,imageWidth:t.width,imageHeight:t.height,url:t.url,alt:t.alt};wp.data.dispatch("core/block-editor").insertBlocks(et("wpcom/image",a),9999,e.props.clientId)}}))},render:function(e){var t=e.open;return React.createElement(pt,{iconSize:24,icon:React.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true",focusable:"false"},React.createElement("path",{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),onClick:t},"\u9009\u62e9\u56fe\u7247")}}))}}))]}}])}(Ze),save:function(e){var t=e.attributes,a=t.center,n=t.p;return React.createElement("div",{className:"wp-block-wpcom-images"+(a?" aligncenter":"")+(n?"":" inline-image")},React.createElement(ot.Content,null))}},ht={title:"\u56fe\u7247",description:"\u5355\u5f20\u56fe\u7247",icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M4.828 21l-.02.02-.021-.02H2.992A.993.993 0 0 1 2 20.007V3.993A1 1 0 0 1 2.992 3h18.016c.548 0 .992.445.992.993v16.014a1 1 0 0 1-.992.993H4.828zM20 15V5H4v14L14 9l6 6zm0 2.828l-6-6L6.828 19H20v-1.172zM8 11a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"})),category:"common",parent:["wpcom/images"],attributes:{id:{type:"number"},url:{type:"string",default:""},alt:{type:"string",default:""},width:{type:"number"},height:{type:"number"},imageWidth:{type:"number"},imageHeight:{type:"number"}},edit:function(t){function a(){return c(this,a),e(this,a,arguments)}return u(a,t),s(a,[{key:"render",value:function(){var e=this.props,t=e.attributes,a=t.id,n=t.url,r=t.alt,l=t.width,o=t.height,c=t.imageWidth,i=t.imageHeight,s=e.setAttributes;return[React.createElement(at,{key:"inspector"},React.createElement(it,{title:"\u533a\u5757\u8bbe\u7f6e"},React.createElement(ut,{id:"alt",label:"Alt\u6587\u672c\uff08\u66ff\u6362\u6587\u672c\uff09",value:r,onChange:function(e){return s({alt:e})}}),React.createElement(nt,{width:l,height:o,imageWidth:c,imageHeight:i,onChange:function(e){var t,a;return s({width:null!==(t=e.width)&&void 0!==t?t:c,height:null!==(a=e.height)&&void 0!==a?a:i})}}))),React.createElement("figure",{className:"wp-block-wpcom-image"},a&&n&&React.createElement("img",{className:"wp-image-"+a,src:n,alt:r,width:l,height:o}),!(a&&n)&&React.createElement(lt,null,React.createElement(rt,{allowedTypes:["image"],multiple:!1,onSelect:function(e){e&&e.id&&s({id:e.id,width:e.width,height:e.height,imageWidth:e.width,imageHeight:e.height,url:e.url,alt:e.alt})},render:function(e){var t=e.open;return React.createElement("div",{className:"image-upload-btn"},React.createElement(pt,{iconSize:24,icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"48",height:"48"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M4.828 21l-.02.02-.021-.02H2.992A.993.993 0 0 1 2 20.007V3.993A1 1 0 0 1 2.992 3h18.016c.548 0 .992.445.992.993v16.014a1 1 0 0 1-.992.993H4.828zM20 15V5H4v14L14 9l6 6zm0 2.828l-6-6L6.828 19H20v-1.172zM8 11a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"})),onClick:t},"\u8bf7\u8bbe\u7f6e\u56fe\u7247"))}})))]}}])}(Ze),save:function(e){var t=e.attributes,a=t.id,n=t.url,r=t.alt,l=t.width,o=t.height;return React.createElement("figure",{className:"wp-block-wpcom-image"},n&&React.createElement("img",{className:"wp-image-"+a,src:n,alt:r,width:l,height:o}))}},mt=wp.element.Component,ft=wp.blockEditor?wp.blockEditor:wp.editor,vt=ft.MediaUpload,gt=ft.MediaUploadCheck,bt=ft.InspectorControls,wt=wp.components,yt=wt.BaseControl,Et=wt.TextareaControl,kt=wt.TextControl,Rt=wt.ToggleControl,Ct=wt.Button,xt=wt.Card,Bt=wt.CardMedia,_t=wt.PanelBody,Nt={title:"\u94fe\u63a5\u5361\u7247",description:"\u53ef\u5411\u6587\u7ae0\u5185\u5bb9\u6dfb\u52a0\u5361\u7247\u5f62\u5f0f\u7684\u94fe\u63a5",icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M9 3v2H4v14h16v-9h2v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h6zm9.95 2L16 2.05 17.414.636l5.34 5.34A.6.6 0 0 1 22.33 7H14a2 2 0 0 0-2 2v6h-2V9a4 4 0 0 1 4-4h4.95z"})),category:"wpcom",attributes:{title:{type:"string",default:""},desc:{type:"string",default:""},url:{type:"string",default:""},image:{type:"string",default:""},_blank:{type:"boolean"},nofollow:{type:"boolean"}},example:{attributes:{title:"WPCOM - WordPress\u4e3b\u9898\u5f00\u53d1\u5546",desc:"\u4e13\u4e1aWordPress\u4e3b\u9898\u6a21\u677f\u670d\u52a1\u5546\uff0c\u6709\u591a\u5e74\u7684WordPress\u4e3b\u9898\u5f00\u53d1\u7ecf\u9a8c\uff0c\u81ea\u4e3b\u5f00\u53d1\u540e\u53f0\u4e3b\u9898\u8bbe\u7f6e\u9762\u677f\uff0c\u5373\u4f7f\u4e0d\u61c2\u4ee3\u7801\u4e5f\u80fd\u8f7b\u677e\u641e\u5b9a",url:"https://www.wpcom.cn",image:"https://www.wpcom.cn/favicon/android-icon-192x192.png"}},supports:{html:!1},edit:function(t){function a(t){var n;return c(this,a),(n=e(this,a,arguments)).props=t,n}return u(a,t),s(a,[{key:"componentWillMount",value:function(){var e=this.props,t=e.attributes,a=t._blank,n=t.nofollow,r=e.setAttributes;void 0===a&&r({_blank:y("url-card","_blank",!0)}),void 0===n&&r({nofollow:y("url-card","nofollow",!0)})}},{key:"componentWillUnmount",value:function(){this.subscribe&&this.subscribe()}},{key:"render",value:function(){var e=this.props,t=e.attributes,a=t.url,n=t.title,r=t.desc,l=t.image,o=t._blank,c=t.nofollow,i=e.setAttributes;return[React.createElement(bt,{key:"inspector"},React.createElement(_t,{title:"\u533a\u5757\u8bbe\u7f6e"},React.createElement(kt,{id:"url",label:"\u94fe\u63a5\u5730\u5740",placeholder:"\u8bf7\u586b\u5199\u94fe\u63a5\u5730\u5740",value:a,onChange:function(e){return i({url:e})}}),React.createElement(kt,{id:"title",label:"\u94fe\u63a5\u6807\u9898",placeholder:"\u8bf7\u586b\u5199\u94fe\u63a5\u6807\u9898",value:n,onChange:function(e){return i({title:e})}}),React.createElement(Et,{id:"desc",label:"\u94fe\u63a5\u7b80\u4ecb",placeholder:"\u8bf7\u586b\u5199\u94fe\u63a5\u7b80\u4ecb\u63cf\u8ff0",rows:"2",value:r,onChange:function(e){return i({desc:e})}}),React.createElement(gt,null,React.createElement(yt,{id:"image",label:"\u7f29\u7565\u56fe\u7247",help:"\u94fe\u63a5\u5361\u7247\u7684\u7f29\u7565\u56fe\u7247"},l&&React.createElement(xt,{size:"small",style:{width:"50%"}},React.createElement(Bt,{style:{marginBottom:"5px"}},React.createElement("img",{src:l}))),React.createElement("div",{className:"upload-action"},l&&React.createElement(Ct,{isSmall:!0,onClick:function(){return i({image:""})},className:"is-secondary",style:{marginRight:"5px"}},"\u79fb\u9664\u56fe\u7247"),React.createElement(vt,{allowedTypes:["image"],multiple:!1,onSelect:function(e){e&&e.id&&i({image:e.url?e.url.replace(/^(http|https):/i,""):""})},render:function(e){var t=e.open;return React.createElement(Ct,{isSmall:!0,onClick:t,className:"is-primary"},"\u9009\u62e9\u56fe\u7247")}})))),React.createElement(Rt,{label:"\u65b0\u7a97\u53e3\u6253\u5f00",help:"\u662f\u5426\u9700\u8981\u65b0\u7a97\u53e3\u6253\u5f00\u94fe\u63a5",checked:o,onChange:function(e){i({_blank:e}),w("url-card","_blank",e)}}),React.createElement(Rt,{label:"Nofollow",help:"\u662f\u5426\u9700\u8981\u5bf9\u94fe\u63a5\u6dfb\u52a0nofollow\u5c5e\u6027",checked:c,onChange:function(e){i({nofollow:e}),w("url-card","nofollow",e)}}))),React.createElement("div",{className:"wp-block-wpcom-url-card"},React.createElement("a",{className:"url-card",href:"javascript:;"},React.createElement(vt,{allowedTypes:["image"],multiple:!1,onSelect:function(e){e&&e.id&&i({image:e.url?e.url.replace(/^(http|https):/i,""):""})},render:function(e){var t=e.open;return React.createElement("span",{className:"url-card-image",onClick:t},l&&React.createElement("img",{src:l,alt:n||""}),!l&&React.createElement("span",{className:"url-card-noimage"}))}}),React.createElement("span",{className:"url-card-content"},React.createElement("span",{className:"url-card-title",contenteditable:"true",onBlur:function(e){var t=jQuery(e.target);t.length&&i({title:t.text()})},placeholder:"\u8bf7\u8f93\u5165\u94fe\u63a5\u6807\u9898"},n),React.createElement("span",{className:"url-card-desc",contenteditable:"true",onBlur:function(e){var t=jQuery(e.target);t.length&&i({desc:t.text()})},placeholder:"\u8bf7\u8f93\u5165\u94fe\u63a5\u63cf\u8ff0"},r))))]}}])}(mt),save:function(e){var t=e.attributes,a=t.url,n=t.title,r=t.desc,l=t.image,o=t._blank,c=t.nofollow;return React.createElement("div",{className:"wp-block-wpcom-url-card"},React.createElement("a",{className:"url-card",href:a,target:o&&"_blank",rel:(o||c)&&(c?"nofollow":"")+(o?(c?" ":"")+"noopener noreferrer":"")},l&&React.createElement("span",{className:"url-card-image"},React.createElement("img",{src:l,alt:n||""})),React.createElement("span",{className:"url-card-content"},React.createElement("span",{className:"url-card-title"},n||a),React.createElement("span",{className:"url-card-desc"},r||a))))},deprecated:[{attributes:{title:{type:"string",default:""},desc:{type:"string",default:""},url:{type:"string",default:""},image:{type:"string",default:""},_blank:{type:"boolean",default:!0},nofollow:{type:"boolean",default:!0}},save:function(e){var t=e.attributes,a=t.url,n=t.title,r=t.desc,l=t.image,o=t._blank,c=t.nofollow;return React.createElement("div",{className:"wp-block-wpcom-url-card"},React.createElement("a",{className:"url-card",href:a,target:o&&"_blank",rel:(o||c)&&(c?"nofollow":"")+(o?(c?" ":"")+"noopener noreferrer":"")},l&&React.createElement("span",{className:"url-card-image"},React.createElement("img",{src:l,alt:n||""})),React.createElement("span",{className:"url-card-content"},React.createElement("span",{className:"url-card-title"},n||a),React.createElement("span",{className:"url-card-desc"},r||a))))}}]},zt=wp.element.Component,Mt=wp.blockEditor?wp.blockEditor:wp.editor,jt=Mt.MediaUpload,Ht=Mt.MediaUploadCheck,St=Mt.InspectorControls,It=wp.components,Tt=It.PanelBody,Lt=It.BaseControl,At=It.ToggleControl,Ot=It.TextControl,Pt=It.Button,Vt=It.Card,Qt=It.CardMedia,Wt=It.Flex,Ft=It.FlexItem,Ut={title:"\u5e7b\u706f\u6ed1\u5757",description:"\u5728\u6587\u7ae0\u5185\u5bb9\u4e2d\u6dfb\u52a0\u5e7b\u706f\u6ed1\u5757",icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M13 18v2h4v2H7v-2h4v-2H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-8zM4 5v11h16V5H4zm6 2.5l5 3-5 3v-6z"})),category:"wpcom",attributes:{preview:{type:"boolean"},autoplay:{type:"string"},images:{type:"array",default:[]}},supports:{html:!1},edit:function(t){function a(t){var n;return c(this,a),(n=e(this,a,arguments)).props=t,n}return u(a,t),s(a,[{key:"componentWillMount",value:function(){var e=this.props,t=e.attributes,a=t.preview,n=t.autoplay,r=t.images,l=e.setAttributes;void 0===a&&void 0===n&&0===r.length?(l({preview:y("slider","preview",!1)}),l({autoplay:y("slider","autoplay","5000")})):r.length&&void 0===n&&l({autoplay:"5000"})}},{key:"render",value:function(){var e=this.props,t=e.attributes,a=t.preview,n=t.autoplay,r=t.images,l=e.setAttributes,o=[];if(r.length)for(var c in r)r[c]&&r[c].id&&(o[c]=r[c].id);return[React.createElement(St,{key:"inspector"},React.createElement(Tt,{title:"\u533a\u5757\u8bbe\u7f6e"},React.createElement(At,{label:"\u70b9\u51fb\u9884\u89c8\u5927\u56fe",checked:a,onChange:function(e){l({preview:e}),w("slider","preview",e)}}),React.createElement(Ot,{label:"\u5207\u6362\u65f6\u95f4\u95f4\u9694",value:n,help:"\u5355\u4f4d\uff1a\u6beb\u79d2\uff0c\u8bbe\u7f6e\u4e3a0\u5219\u4e0d\u81ea\u52a8\u5207\u6362\uff0c\u9ed8\u8ba45\u79d2\uff0c\u53735000",onChange:function(e){l({autoplay:e}),w("slider","autoplay",e)}}))),React.createElement("div",{className:"wp-block-wpcom-slider"},r&&r.length>0&&React.createElement(Wt,{wrap:!0,gap:"10px",justify:"flex-start",align:"flex-start"},r.map((function(e){return React.createElement(Ft,{className:"wpcom-slider-item",style:{width:"calc(20% - 10px)"}},React.createElement(Vt,{size:"small"},React.createElement(Qt,null,React.createElement("img",{src:e.url,alt:e.caption?e.caption:e.alt?e.alt:""}))))}))),React.createElement(Ht,null,React.createElement(Lt,{id:"image",label:""},React.createElement("div",{className:"upload-action"},React.createElement(jt,{allowedTypes:["image"],multiple:!0,gallery:!0,addToGallery:!1,value:o,onSelect:function(e){var t=[];e&&e.length&&e.map((function(e){if(e&&e.id){var a={id:e.id,url:e.url?e.url.replace(/^(http|https):/i,""):"",alt:e.alt,caption:e.caption};t.push(a)}})),l({images:t})},render:function(e){var t=e.open;return React.createElement("div",{style:{textAlign:"center"}},React.createElement(Pt,{isSmall:!0,onClick:t,className:"is-primary"},r&&r.length?"\u7f16\u8f91\u5e7b\u706f\u56fe\u7247":"\u9009\u62e9\u5e7b\u706f\u56fe\u7247"))}})))))]}}])}(zt),save:function(e){return null}},Gt=(wp.blockEditor?wp.blockEditor:wp.editor).BlockControls,qt=wp.components,Dt=qt.Popover,$t=qt.ToolbarGroup,Jt=qt.ToolbarDropdownMenu,Yt=wp.element,Xt=Yt.Fragment,Kt=Yt.useState,Zt=wp.richText,ea=Zt.insert,ta=Zt.create,aa=Zt.applyFormat,na=Zt.useAnchor,ra="",la={name:"wpcom/icon",title:"\u63d2\u5165\u56fe\u6807",tagName:"i",className:"inline-icon",attributes:{className:"class",ariaHidden:"aria-hidden"},edit:function(e){e.isActive;var t=e.value,a=e.onChange,n=e.onFocus,r=e.contentRef,l=h(Kt(!1),2),o=l[0],c=l[1],i=na({editableContentElement:r.current,value:t,settings:la}),s=o&&React.createElement(Dt,{className:"icon-map-popover",position:"bottom center",focusOnMount:"firstElement",key:"icon-popover",anchor:i,expandOnMobile:!0,headerTitle:"\u9009\u62e9\u56fe\u6807",onClose:function(){c(!1)}},React.createElement(U,{id:"icon",label:"\u56fe\u6807",value:ra,hideIf:!0,onChange:function(e){if(e){var r=g(ra=e),l=r.props.children?r.props.children:" ",o=aa(ta({text:l}),{type:"wpcom/icon",attributes:{className:r.props.className,ariaHidden:"true"}},0,l.length);a(ea(t,o)),n()}}}));return React.createElement(Xt,null,React.createElement(Gt,{group:"other"},React.createElement($t,null,React.createElement(Jt,{icon:b("currentColor"),label:"\u589e\u5f3a\u5143\u7d20",toggleProps:{},controls:[{title:"\u63d2\u5165\u56fe\u6807",icon:"lightbulb",onClick:function(){c(!0)}}]}))),s)}};jQuery((function(e){var t=b();wp.blocks.updateCategory("wpcom",{icon:t}),wp.domReady((function(){v("wpcom/google-map",_),v("wpcom/video-code",O),v("wpcom/alert",K),v("wpcom/panel",oe),v("wpcom/acco",je),v("wpcom/accordion",He),v("wpcom/tabs",Fe),v("wpcom/tab",Ue),v("wpcom/hidden-content",ye),v("wpcom/hljs",Ke),v("wpcom/images",dt),v("wpcom/image",ht),v("wpcom/url-card",Nt),v("wpcom/slider",Ut),setTimeout((function(){var e=b(""),a=wp.blocks.getCategories(),n=[];if(document.body.classList.contains("wp-customizer")||"undefined"!=typeof adminpage&&"widgets-php"===adminpage){var r=null;for(var l in a)"widgets"===a[l].slug?r=a[l]:n.push(a[l]);r&&n.unshift(r),n.unshift({slug:"wpcom-widgets",title:"\u65e7\u7248\u7ecf\u5178\u5c0f\u5de5\u5177",icon:t}),a=n,n=[]}var o=null;for(var c in a)"wpcom"===a[c].slug?o=a[c]:n.push(a[c]);if(o)for(var i in a=n,n=[],a)"media"===a[i].slug?(n.push(a[i]),n.push(o)):n.push(a[i]);wp.blocks.setCategories(n);var s=wp.blocks.getBlockTypes();if(s)for(var u in s)if("core/legacy-widget"===s[u].name){var p=s[u].variations,d=[];if(p){for(var h in p)wp.blocks.unregisterBlockVariation("core/legacy-widget",p[h].name),(/^wpcom-/i.test(p[h].name)||/^qapress-/i.test(p[h].name))&&(p[h].icon={src:e,foreground:"var(--wpcom-theme-color)"},d.push(p[h]));for(var m in p)/^wpcom-/i.test(p[m].name)||/^qapress-/i.test(p[m].name)||d.push(p[m]);var f=Object.assign({},s[u]);v("wpcom/legacy-widget",Object.assign(f,{title:"\u65e7\u7248\u5c0f\u5de5\u5177",description:"\u6dfb\u52a0\u65e7\u7248\u5c0f\u5de5\u5177\u4ee5\u53caWPCOM\u5185\u7f6e\u5c0f\u5de5\u5177",category:"wpcom-widgets",variations:d}))}break}}),2e3)})),"undefined"!=typeof _panel_options&&wp.richText.registerFormatType("wpcom/icon",la)}));var oa=!0;wp.data.subscribe((function(){var e=wp.data.select("core/editor");if("undefined"!=typeof _panel_options&&_panel_options["theme-settings"]&&"1"==_panel_options["theme-settings"].save_remote_img){var t=e.isSavingPost(),a=e.isAutosavingPost();if(t&&!a)oa=!1;else if(!oa){oa=!0;try{var n=e.getCurrentPost();if(n&&n.content&&"publish"===e.getEditedPostAttribute("status")){var r=wp.blocks.parse(n.content);r&&wp.data.dispatch("core/editor").editPost({blocks:r},{undoIgnore:!0})}}catch(e){console.log(e)}}}}))}));
